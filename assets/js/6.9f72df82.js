(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{530:function(s,t,a){s.exports=a.p+"assets/img/1560563115351.6a2ec53e.png"},531:function(s,t,a){s.exports=a.p+"assets/img/1560563142541.59d5e5ba.png"},532:function(s,t,a){s.exports=a.p+"assets/img/1560563164134.692e5268.png"},533:function(s,t,a){s.exports=a.p+"assets/img/1560563364409.a943b42d.png"},534:function(s,t,a){s.exports=a.p+"assets/img/1560564236395.e2121c23.png"},535:function(s,t,a){s.exports=a.p+"assets/img/1560565025677.b3a46657.png"},536:function(s,t,a){s.exports=a.p+"assets/img/1560565120407.8f0bb221.png"},537:function(s,t,a){s.exports=a.p+"assets/img/1560565226321.a2bfd54f.png"},538:function(s,t,a){s.exports=a.p+"assets/img/1560566456936.2a1bbf80.png"},539:function(s,t,a){s.exports=a.p+"assets/img/02.bcc5d87a.png"},540:function(s,t,a){s.exports=a.p+"assets/img/1560567883143.55b19ee3.png"},541:function(s,t){s.exports="data:image/png;base64,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"},542:function(s,t){s.exports="data:image/png;base64,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"},543:function(s,t,a){s.exports=a.p+"assets/img/4.a63eac22.png"},544:function(s,t,a){s.exports=a.p+"assets/img/2.4385c635.png"},545:function(s,t,a){s.exports=a.p+"assets/img/3.55654a64.png"},546:function(s,t,a){s.exports=a.p+"assets/img/1560571627271.54e849f4.png"},547:function(s,t,a){s.exports=a.p+"assets/img/1560571766828.d7f5209f.png"},548:function(s,t,a){s.exports=a.p+"assets/img/1560572029504.33372d57.png"},549:function(s,t,a){s.exports=a.p+"assets/img/1560572063294.2b8cb1b1.png"},550:function(s,t,a){s.exports=a.p+"assets/img/1560573114375.2ba3839e.png"},551:function(s,t,a){s.exports=a.p+"assets/img/1560573159282.95a4f4ff.png"},552:function(s,t,a){s.exports=a.p+"assets/img/1550420192624.122679b0.png"},629:function(s,t,a){"use strict";a.r(t);var n=a(20),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_1-会话控制概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-会话控制概述"}},[s._v("#")]),s._v(" 1. 会话控制概述")]),s._v(" "),n("ol",[n("li",[s._v("http协议的缺陷")])]),s._v(" "),n("p",[s._v("​       无状态（无记忆），服务器不会记住哪个浏览器访问过，所以无法让同一浏览器和服务器进行多次数据交换时产生业务的连续性。")]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("什么是会话控制")])]),s._v(" "),n("p",[s._v("​       会话控制就是解决http无记忆缺陷的。能够将数据持久化的保存在客户端（浏览器）或者服务器端，从而让浏览器和服务器进行多次数据交换时产生业务的连续性。")]),s._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[s._v("会话控制的分类")])]),s._v(" "),n("p",[s._v("​       cookie：将数据持久化保存到客户端（浏览器）")]),s._v(" "),n("p",[s._v("​       session：将数据持久化保存到服务器端")]),s._v(" "),n("h1",{attrs:{id:"_2-cookie技术"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-cookie技术"}},[s._v("#")]),s._v(" 2. cookie技术")]),s._v(" "),n("h2",{attrs:{id:"_2-1-什么是cookie"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-什么是cookie"}},[s._v("#")]),s._v(" 2.1 什么是cookie")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("cookie是将数据持久化存储到客户端的一种技术。")])]),s._v(" "),n("li",[n("p",[s._v("浏览器第一次访问带有cookie设置的路由时，服务器会将cookie信息通过响应头返回给浏览器")])]),s._v(" "),n("li",[n("p",[s._v("之后浏览器每次访问服务器时都会将cookie信息通过请求头发送给服务器")])])]),s._v(" "),n("h2",{attrs:{id:"_2-2-设置cookie"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-设置cookie"}},[s._v("#")]),s._v(" 2.2 设置cookie")]),s._v(" "),n("ul",[n("li",[s._v("核心： ==cookie是随着响应头返回给浏览器的==")]),s._v(" "),n("li",[s._v("设置cookie的核心思想： 使用 res.setHeader 或者 writeHeader 将cookie信息设置在响应头中")]),s._v(" "),n("li",[s._v("cookie设置格式：key=value;expires=time\n"),n("ul",[n("li",[s._v("key: cookie的名称")]),s._v(" "),n("li",[s._v("value： 名称对应的值")]),s._v(" "),n("li",[s._v("expires： 有效期")])])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//1. 使用 setHeader 方法")]),s._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setHeader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'set-cookie'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'id=101'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置单个cookie")]),s._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setHeader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'set-cookie'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'id=101'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name=zs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置多个cookie")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//2. 使用 writeHeader 方法")]),s._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeHeader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'content-type'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text/html;charset=utf-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'set-cookie'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'type=10'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name=my'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("；\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//3. 使用 set 方法，该方法是express封装的方法")]),s._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'set-cookie'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'goodsName=xiaomi 6'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'goodsPrice=3999'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("；\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//4. 设置cookie时，指定有效期")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//注意：要使用UTC时间，使用 toUTCString()方法转换")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置有效期为 1小时")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" expiresTime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3600000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toUTCString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'set-cookie'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'goodsName=xiaomi 6;expires='")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" expiresTime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'goodsPrice=3999'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("ol",[n("li",[s._v("使用 setHeader 来设置cookie")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(530),alt:"1560563115351"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(531),alt:"1560563142541"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(532),alt:"1560563164134"}})]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("一次性设置多个cookie  ---\x3e  使用数组形式")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setHeader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'set-cookie'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'color=red'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bgcolor=blue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//参数2使用数组形式就能设置多个cookie")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("使用 writeHeader 设置cookie")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(533),alt:"1560563364409"}})]),s._v(" "),n("h2",{attrs:{id:"_2-3-读取cookie"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-读取cookie"}},[s._v("#")]),s._v(" 2.3 读取cookie")]),s._v(" "),n("p",[s._v("一旦网站在浏览器设置好cookie之后，浏览器再访问网站时，cookie信息就会随着==请求头==一起发送给服务器")]),s._v(" "),n("p",[s._v("req.url: 保存url地址")]),s._v(" "),n("p",[s._v("req.method: 保存请求方式")]),s._v(" "),n("p",[s._v("req.headers: 保存请求头信息")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'goodsname=xiaomi 8; goodsprice=2999'")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("goodsname"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xiaomi 8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" goodsprice"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2999")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n使用"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 将字符串拆分 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'goodsname=xiaomi 8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'goodsprice=2999'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n循环使用 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 拆分每一个单元\n goodsname  xiaomi "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n goodsprice  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2999")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("核心： req.headers.cookie 中")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" qs "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'querystring'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" qs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'id=10001;name=zs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("';'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'='")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// {id:10001, name:"zs"}')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:a(534),alt:"1560564236395"}})]),s._v(" "),n("h2",{attrs:{id:"_2-4-使用cookie解决登录问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-使用cookie解决登录问题"}},[s._v("#")]),s._v(" 2.4 使用cookie解决登录问题")]),s._v(" "),n("ol",[n("li",[s._v("当用户名和密码正确时，登录成功，将登录成功的信息通过cookie保存回浏览器")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(535),alt:"1560565025677"}})]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("在其他路由函数中检测请求头中是否有isLogin=true的信息，如果有则说明是正常登录的，继续显示对应的页面；如果没有说明没有登录，则跳转回登录页")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(536),alt:"1560565120407"}})]),s._v(" "),n("p",[s._v("缺点： 因为cookie是保存在浏览器端，所以不安全。能够使用js进行篡改")]),s._v(" "),n("p",[n("img",{attrs:{src:a(537),alt:"1560565226321"}})]),s._v(" "),n("p",[s._v("设置完成后，再直接访问  /index  依然能够看到页面")]),s._v(" "),n("h2",{attrs:{id:"_2-5-cookie有效期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-cookie有效期"}},[s._v("#")]),s._v(" 2.5 cookie有效期")]),s._v(" "),n("ul",[n("li",[s._v("设置了expires则有效期到expires指定的时间")]),s._v(" "),n("li",[s._v("未设置expires则关闭浏览器cookie即消失")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置cookie的有效期为1小时")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//方式: 先找到一小时之后的时间戳，再转为utc时间")]),s._v("\nDate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("： 获取当前时间点的时间戳 （毫秒数）\nDate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3600000")]),s._v("： 一小时之后的毫秒数\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3600000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toUTCString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 将时间戳转为时间格式（"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UTC")]),s._v("时间格式）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("img",{attrs:{src:a(538),alt:"1560566456936"}})]),s._v(" "),n("h2",{attrs:{id:"_2-6-cookie的特点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-cookie的特点"}},[s._v("#")]),s._v(" 2.6 cookie的特点")]),s._v(" "),n("ul",[n("li",[s._v("网站可以将数据写到浏览器中， 一个网站最多能在一个浏览器写20个cookie。现在的浏览器能写的更多")]),s._v(" "),n("li",[s._v("一个浏览器能够设置的总cookie数最多为300个，每个不能超过4kb。")]),s._v(" "),n("li",[s._v("cookie既能保存在文件中，也能保存在内存中。")])]),s._v(" "),n("p",[s._v("cookie应用实例 --- 千人千面（猜你喜欢）")]),s._v(" "),n("p",[n("img",{attrs:{src:a(539),alt:"02"}})]),s._v(" "),n("h1",{attrs:{id:"_3-session技术"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-session技术"}},[s._v("#")]),s._v(" 3. session技术")]),s._v(" "),n("h2",{attrs:{id:"_3-1-session介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-session介绍"}},[s._v("#")]),s._v(" 3.1 session介绍")]),s._v(" "),n("ul",[n("li",[s._v("因为cookie是保存在客户端的数据，不够安全，所以出现了session。")]),s._v(" "),n("li",[s._v("session会将数据保存到服务器端（保存在文件、内存服务器或数据表中），安全性就可以得到保证。")])]),s._v(" "),n("h2",{attrs:{id:"_3-2-设置-读取session"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-设置-读取session"}},[s._v("#")]),s._v(" 3.2 设置/读取session")]),s._v(" "),n("p",[s._v("express设置session时，需要使用第三方模块 --- express-session")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i express-session\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("使用步骤：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("加载 express-session 模块")])]),s._v(" "),n("li",[n("p",[s._v("将session注册为中间件")])]),s._v(" "),n("li",[n("p",[s._v("使用req.session对象设置/读取session")])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//1. 加载 express-session 模块")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" session "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express-session'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//2. 配置项")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    secret"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'4ey32erfyf3fgpg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//加密字符串。 使用该字符串来加密session数据，自定义")]),s._v("\n    resave"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//强制保存session即使它并没有变化")]),s._v("\n    saveUninitialized"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//强制将未初始化的session存储。当新建了一个session且未")]),s._v("\n    \t\t\t\t\t\t\t "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设定属性或值时，它就处于未初始化状态。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//3. 注册为express-session中间件")]),s._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("session")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//4. 使用 req.session.属性 = 值  方式来设置session")]),s._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/sets'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("session"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("isLogin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("session"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("userInfo "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user_id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//注意：一定要将数据发回给浏览器，否则session无法生效")]),s._v("\n    res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'设置session'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置好之后，req.session中的结构")]),s._v("\nreq"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("session "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    isLogin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    userInfo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user_id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("ol",[n("li",[s._v("设置session")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(540),alt:"1560567883143"}})]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("读取session")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(541),alt:"1560567895441"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(542),alt:"1560567872147"}})]),s._v(" "),n("h2",{attrs:{id:"_3-3-session有效期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-session有效期"}},[s._v("#")]),s._v(" 3.3 session有效期")]),s._v(" "),n("ul",[n("li",[s._v("当浏览器关闭后，session消失")]),s._v(" "),n("li",[s._v("express-session会将session保存在内存中，每次重启服务器时即使没有关闭浏览器session也会消失")])]),s._v(" "),n("h2",{attrs:{id:"_3-4-删除session"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-删除session"}},[s._v("#")]),s._v(" 3.4 删除session")]),s._v(" "),n("p",[s._v("核心： req.session.destroy()    销毁所有session")]),s._v(" "),n("h2",{attrs:{id:"_3-5-session-的有效范围"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-session-的有效范围"}},[s._v("#")]),s._v(" 3.5 session 的有效范围")]),s._v(" "),n("p",[s._v("在一个网站中设置了session，则整个网站都能找到这个session")]),s._v(" "),n("h1",{attrs:{id:"_5-cookie和session的原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-cookie和session的原理"}},[s._v("#")]),s._v(" 5. cookie和session的原理")]),s._v(" "),n("h2",{attrs:{id:"_5-1-cookie原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-cookie原理"}},[s._v("#")]),s._v(" 5.1 cookie原理")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("浏览器第一次访问带有cookie设置的路由时，服务器会将cookie信息通过响应头返回给浏览器")])]),s._v(" "),n("li",[n("p",[s._v("之后浏览器每次访问服务器时都会将cookie信息通过请求头发送给服务器")])])]),s._v(" "),n("p",[s._v("##5.2 session原理")]),s._v(" "),n("p",[n("img",{attrs:{src:a(543),alt:"4"}})]),s._v(" "),n("ol",[n("li",[n("p",[s._v("浏览器第一次访问带有session设置的路由时，服务器会自动产生一个sessionId（一个很长的随机字符串），该sessionId有两个作用")]),s._v(" "),n("p",[s._v("① 随着cookie返回给浏览器，保存在浏览器中   （==相当于一把钥匙==）")]),s._v(" "),n("p",[s._v("② 在服务器开辟一块内存并以该sessionId命名，将数据保存在该内存中 （==相当于一个箱子==）")])]),s._v(" "),n("li",[n("p",[s._v("浏览器之后每一次访问服务器时，sessionId都会随着请求头发送给服务器，服务器就能根据sessionId找到对应的箱子，就能获取到箱子中保存的数据")])])]),s._v(" "),n("h1",{attrs:{id:"_6-中间件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-中间件"}},[s._v("#")]),s._v(" 6. 中间件")]),s._v(" "),n("h2",{attrs:{id:"_6-1-什么是中间件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-什么是中间件"}},[s._v("#")]),s._v(" 6.1 什么是中间件")]),s._v(" "),n("p",[s._v("自来水生产流程：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(544),alt:"1543509885706"}})]),s._v(" "),n("p",[s._v("d:/aaa/ABC.JPG： 截取文件后缀并转为小写   .jpg")]),s._v(" "),n("p",[n("img",{attrs:{src:a(545),alt:"1542860431029"}})]),s._v(" "),n("p",[s._v("上图中lastIndexOf、slice、toLowerCase几个方法就可以认为是中间件")]),s._v(" "),n("p",[s._v("中间件按顺序调用，对字符串 d:/aaa/ABC.JPG进行加工，得到最终的结果")]),s._v(" "),n("p",[s._v("Express是一种路由和中间件的Web框架，Express应用程序本质上是一系列中间件函数调用。")]),s._v(" "),n("p",[s._v("==express中间件是一个特殊的url地址处理函数==")]),s._v(" "),n("ul",[n("li",[s._v("该函数中有三个基本参数， req、res、next")]),s._v(" "),n("li",[s._v("req就是回调函数中的req对象")]),s._v(" "),n("li",[s._v("res就是回调函数中的res对象")]),s._v(" "),n("li",[s._v("next：当该中间件执行完成后自动进入下一个中间件")])]),s._v(" "),n("h2",{attrs:{id:"_6-2-自定义中间件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-自定义中间件"}},[s._v("#")]),s._v(" 6.2 自定义中间件")]),s._v(" "),n("p",[s._v("案例1： 记录日志中间件")]),s._v(" "),n("p",[s._v("目标： 每当浏览器输入地址访问时，就将当前访问的url和时间保存到 run.log 文件中")]),s._v(" "),n("ol",[n("li",[s._v("使用 fs 模块写run.log 文件")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(546),alt:"1560571627271"}})]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("将写文件的代码封装成一个函数，在每个路由中调用")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(547),alt:"1560571766828"}})]),s._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[n("p",[s._v("将日志函数改造为 中间件函数")]),s._v(" "),n("p",[s._v("①  将写日志的函数改造为中间件函数")])])]),s._v(" "),n("p",[n("img",{attrs:{src:a(548),alt:"1560572029504"}})]),s._v(" "),n("p",[s._v("② 将函数注册为中间件")]),s._v(" "),n("p",[s._v("③  删除其他路由中的writeLog函数")]),s._v(" "),n("p",[n("img",{attrs:{src:a(549),alt:"1560572063294"}})]),s._v(" "),n("p",[s._v("案例2： 自定义url检测中间件，不存在的url地址直接显示 "),n("code",[s._v("404 not found")])]),s._v(" "),n("p",[s._v("除了 /index   /movie  /about ,其他的路由地址一概不支持；一旦访问，就会显示 404 not found")]),s._v(" "),n("ol",[n("li",[s._v("定义检测url地址的中间件函数")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(550),alt:"1560573114375"}})]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("将该函数注册为中间件")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(551),alt:"1560573159282"}})]),s._v(" "),n("h2",{attrs:{id:"_6-3-图例中间件工作原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-图例中间件工作原理"}},[s._v("#")]),s._v(" 6.3 图例中间件工作原理")]),s._v(" "),n("p",[n("img",{attrs:{src:a(552),alt:"1550420192624"}})]),s._v(" "),n("h2",{attrs:{id:"_6-4-检测登录状态中间件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-检测登录状态中间件"}},[s._v("#")]),s._v(" 6.4 检测登录状态中间件")]),s._v(" "),n("p",[s._v("方法： 在每个路由中都要检测 isLogin 的状态，除了  /login 和 /checkLogin")]),s._v(" "),n("h2",{attrs:{id:"_6-5-中间件类别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-中间件类别"}},[s._v("#")]),s._v(" 6.5 中间件类别")]),s._v(" "),n("p",[s._v("express有五中类别的中间件：")]),s._v(" "),n("ul",[n("li",[s._v("应用级别的中间件： 挂载到 app 上的中间件，例如：app.use()")]),s._v(" "),n("li",[s._v("路由级别的中间件： 挂载到 router 对象上的中间件，例如：router.get()、 router.post")]),s._v(" "),n("li",[s._v("错误级别的中间件： 回调函数中，有四个参数  app.use((err, req, res, next)=>{})")]),s._v(" "),n("li",[s._v("内置中间件： express.static() ， express提供的唯一内置中间件")]),s._v(" "),n("li",[s._v("第三方中间件： 非express框架提供的，需要程序员手动安装才能使用的中间件；"),n("code",[s._v("body-parser")]),s._v(" 解析post 表单数据")])])])}),[],!1,null,null,null);t.default=e.exports}}]);